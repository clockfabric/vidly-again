(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(36)},27:function(e,a,t){},33:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),i=(t(27),t(7)),o=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-4"},r.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Vidly"),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(i.c,{to:"/movies",className:"nav-link"},"Movies")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(i.c,{to:"/customers",className:"nav-link"},"Customers")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(i.c,{to:"/rentals",className:"nav-link"},"Rentals")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(i.c,{to:"/login",className:"nav-link"},"Login"))))},m=t(21),u=t(5),s=function(e){var a=e.numberOfItems,t=e.itemsPerPage,n=e.currentPage,l=e.handlePageChanges,c=Math.ceil(a/t);if(c<=1)return null;for(var i=[],o=1;o<=c;o++)i.push(o);return r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination"},i.map(function(e){return r.a.createElement("li",{key:e,style:{cursor:"pointer"},className:e===n?"page-item active":"page-item",onClick:function(){return l(e)}},r.a.createElement("span",{className:"page-link"},e))})))},d=function(e){var a=e.genreList,t=e.currentGenre,n=e.handleGenreSelection;return r.a.createElement("ul",{className:"list-group mt-5"},a.map(function(e){return r.a.createElement("li",{key:e._id,style:{cursor:"pointer"},className:t===e.name?"list-group-item active":"list-group-item",onClick:function(){return n(e.name)}},e.name)}))},b=function(e){var a=e.sortDirection,t=e.sortCategoryIndex,n=e.movieTableHeadingsList,l=e.handleSort;return r.a.createElement("thead",null,r.a.createElement("tr",null,n.map(function(e,n){return r.a.createElement("th",{key:n,style:{cursor:"pointer"},onClick:function(){return l(n)}},r.a.createElement("span",null,e," ",t===n?r.a.createElement("i",{className:a?"fa fa-angle-double-up":"fa fa-angle-double-down"}):""))}),r.a.createElement("th",null),r.a.createElement("th",null)))},f=function(e){return r.a.createElement("i",{style:{cursor:"pointer"},className:e.liked?"fa fa-heart":"fa fa-heart-o",onClick:function(){return e.handleLike(e.id)}})},v=function(e){var a=e.id,t=e.title,n=e.genre,l=e.numMovieInGenre,c=e.stock,i=e.rate,o=e.deleteMovie,m=e.handleLike,u=e.liked;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("a",{href:"/movies/".concat(a)},t)),r.a.createElement("td",null,n.name),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,r.a.createElement(f,{liked:u,handleLike:m,id:a})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return o(a,l)}},"Delete")))},E=function(e){var a=e.pagedMovies,t=e.length,n=e.handleDeleteMovie,l=e.handleLike;return r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement(v,{key:e._id,id:e._id,title:e.title,genre:e.genre,numMovieInGenre:t,stock:e.numberInStock,rate:e.dailyRentalRate,liked:e.liked,deleteMovie:n,handleLike:l})}))},h=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];var g=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!1},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5,liked:!1},{_id:"5b21ca3eeb7f6fbccd471822",title:"Infinity War",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:4,dailyRentalRate:5,liked:!1},{_id:"5b21ca3eeb7f6fbccd471823",title:"End Game",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:4.9,liked:!1}];var k=t(10),p=t.n(k);var y=function(){var e=g,a=Object(n.useState)(e),t=Object(u.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(1),o=Object(u.a)(i,2),f=o[0],v=o[1],k=h.filter(function(e){return e});k=[{_id:1,name:"All Genres"}].concat(Object(m.a)(k));var y=Object(n.useState)(k[0].name),N=Object(u.a)(y,2),S=N[0],_=N[1],R=["Title","Genre","Stock","Rate"],w=["title","genre.name","numberInStock","dailyRentalRate"],C=Object(n.useState)(!0),I=Object(u.a)(C,2),O=I[0],j=I[1],G=Object(n.useState)(0),T=Object(u.a)(G,2),L=T[0],M=T[1];Object(n.useEffect)(function(){D(f)});var P=function(e,a){var t=l.filter(function(a){return a._id!==e});f>1&&a-1===4*(f-1)&&v(f-1),c(t)},A=function(e){var a=l.map(function(a){return a._id===e&&(a.liked=!a.liked),a});c(a)},D=function(e){v(e)},x=function(e){M(e),j(!O)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col col-sm-12 col-md-12 col-lg-3 mb-4"},r.a.createElement(d,{currentGenre:S,genreList:k,handleGenreSelection:function(e){_(e),v(1)}})),r.a.createElement("div",{className:"col"},function(){var e,a,t=(e=l,"All Genres"===(a=S)?e:e.filter(function(e){return e.genre.name===a})),n=t.length,c=function(e,a,t){var n=(a-1)*t;return p()(e).slice(n).take(t).value()}(function(e,a,t){return t?p.a.orderBy(e,a,"asc"):p.a.orderBy(e,a,"desc")}(t,w[L],O),f,4);return n?r.a.createElement("div",null,r.a.createElement("h5",null,"Showing ".concat(n," movies in the database. (Category: ").concat(S,")")),r.a.createElement("table",{className:"table table-striped"},r.a.createElement(b,{handleSort:x,sortCategoryIndex:L,movieTableHeadingsList:R,sortDirection:O}),r.a.createElement(E,{pagedMovies:c,length:n,handleDeleteMovie:P,handleLike:A})),r.a.createElement(s,{numberOfItems:n,itemsPerPage:4,handlePageChanges:D,currentPage:f})):r.a.createElement("h5",null,"No movies in the database!")}()))))},N=function(){return r.a.createElement("h1",null,r.a.createElement("a",{href:"/movies"},"Movies"))},S=function(){return r.a.createElement("h1",null,"Customers")},_=function(){return r.a.createElement("h1",null,"Rentals")},R=function(){return r.a.createElement("h1",null,"Not Found")},w=function(e){var a=e.match,t=e.history;return r.a.createElement("div",null,r.a.createElement("h1",null,"Movie Form ",a.params.id),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.push("/movies")}},"Save"))},C=t(15),I=function(e){var a=e.name,t=e.label,n=e.value,l=e.error,c=e.handleChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",{value:n,name:a,id:a,onChange:c,type:"text",className:"form-control"}),l&&r.a.createElement("div",{className:"alert alert-danger"},l))},O=function(){var e=Object(n.useState)({userName:"",password:""}),a=Object(u.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({}),i=Object(u.a)(c,2),o=i[0],m=i[1],s=function(e){var a=e.currentTarget,n=Object(C.a)({},o),r=function(e){var a=e.name,t=e.value;return"userName"===a&&""===t.trim()?"Username is required.":"password"===a&&""===t.trim()?"Password is required.":void 0}(a);r?n[a.name]=r:delete n[a.name],m(n);var c=Object(C.a)({},t);c[a.name]=a.value,l(c)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=function(){var e={};return""===t.userName.trim()&&(e.userName="Username is required!"),""===t.password.trim()&&(e.password="Password is required!"),0===Object.keys(e).length?null:e}();m(a||{})}},r.a.createElement(I,{value:t.userName,name:"userName",label:"Username",handleChange:s,error:o.userName}),r.a.createElement(I,{value:t.password,name:"password",label:"Password",handleChange:s,error:o.password}),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))},j=t(6);t(33);var G=function(){return r.a.createElement(i.a,null,r.a.createElement("main",{className:"container"},r.a.createElement(o,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/login",component:O}),r.a.createElement(j.b,{path:"/movies/:id",component:w}),r.a.createElement(j.b,{path:"/rentals",component:_}),r.a.createElement(j.b,{path:"/customers",component:S}),r.a.createElement(j.b,{path:"/movies",component:y}),r.a.createElement(j.b,{path:"/notfound",component:R}),r.a.createElement(j.b,{path:"/",exact:!0,component:N}),r.a.createElement(j.a,{to:"/notfound"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(34),t(35);c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.3935dff2.chunk.js.map